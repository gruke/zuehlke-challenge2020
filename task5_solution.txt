There are for sure your better calculations which will lead to the direct result - here's a solution with an visual approach.

Starting from the outside - to get through the last door (|9|) you need to have one coin.
Going through the second last you need two coints (1 for last, 1 for second last).
Third last door will need 3 coins in your pocket

For door |6| you need 4 coins in your pocket but that's also the maximum you can carry - by paying for the earlier doors to come through you cannot have full pockets and must have stored them in multiple passes. 
To deposit and get back through door beforehand you need 2 coins (one to come in, one to go out), which means you can store maximum 2 coins per pass with a cost of 2 coins)
For four coins your pocket in front of door |6| you need to deposit once two coins and come through the second time with 2 coins in your pocket. 4 = 2+2

Going through door |5| with 2 coins to spare means you need 3 in front of the door. And you also went through door |5| twice while depositing 2 coins. Therefore before door |5| 7 coins are needed. 7 = 3+4

Through door |4| to deposit 4 due to the pocket limit you need two tours: 2*(2deposit+2doors) = 8 and to come through door |4| with 3 in your pocket you need 4 coins inyour pocket. For a total of 12 = 8+4 in front of |4|.
Now are are back at the situation from door |9|. Repeat.

room:	coins:
vault	172 = 168+4
|0|
	87 = 84+3
|1|
	44 = 42+2
|2|
	23 = 22+1
|3|
	12 = 8+4 = 12+0
|4|
	7 = 4+3
|5|
	4 = 2+2
|6|
	3
|7|
	2
|8|
	1
|9|
outside	0
